<!DOCTYPE html>
<html>
  <head>
    
    <meta charset="utf8">
    <link rel="stylesheet" type="text/css" href="../css/readme.css">
    <title>entity-lib - Mindustry Mods</title>
    
  </head>
  
  <body>

    <header>
      
<a href="../index.html"><h1>Mindustry Mods</h1></a>      

    </header>
    <content>
      

<p>
  <code>DeltaNedas/entity-lib</code>
  <span class="version">v1.0.0</a>
  <a href="https://github.com/DeltaNedas/entity-lib">repository</a>
  <a href="https://github.com/DeltaNedas/entity-lib/archive/master.zip">zip</a>
</p>

<h1>Entity Lib</h1>
<p>Adds a global field <code>entityLib</code>.</p>
<p>You can extend classes <code>entityLib.Mech</code> or <code>entityLib.Unit</code>.</p>
<p>By default, it functions like a vanilla one.</p>
<h1>How to use</h1>
<p>Add <code>entity-lib</code> to your <code>dependencies: []</code> in <strong>mod.hjson</strong>.</p>
<p>You may extend: (where Entity is Player or Unit)</p>
<ul>
<li>drawWeapon(Entity entity, float rotation, int number, uint index): draw weapons how you wish. May be optional.</li>
<li>drawUnder(Entity entity): draw sprites underneath the weapons. Optional.</li>
<li>drawAbove(Entity entity): draw sprites above the weapons. Optional.</li>
</ul>
<h1>Functions and fields</h1>
<p><code>trueRotation(Entity entity)</code>: get rotation after all limits are processed.</p>
<p><code>trueRotation(Entity entity, float rotation)</code>: set the true rotation.</p>
<p><code>rotationLimit</code> is maximum rotation per tick.</p>
<p><code>weapons</code> are an array of <code>Weapon</code>s to be fired.</p>
<p>See example code below:
<code>js
const myMech = extendContent(entityLib.Mech, "my-mech", {
    drawUnder: function(player){
        Draw.rect(Core.atlas.find("error"), player.x, player.y, this.trueRotation);
    }
});
myMech.rotationLimit = 1; // 60' per second usually
myMech.rotationLerp = 0.02;
myMech.weapons = [
    Mechs.omega.weapon,
    Mechs.dart.weapon,
    Mechs.duo.weapon
];</code></p>

    </content>
  </body>
</html>
